import{a as $,c as Se,d as Re}from"./chunk-V2NX6UVO.js";import{C as m,D as V,E as ye,L as be,S as Me,T as we,W as xe,X as Ie,Y as Ce,a as re,c as w,d as se,e as ae,f as le,g as de,h as ce,i as me,j as _,l as z,m as he,n as ue,o as x,p,q as g,r as H,s as pe,v as ge,w as fe,x as _e,y as G,z as ve}from"./chunk-EHGRRDZP.js";import{$ as X,$a as te,Ab as b,Bb as P,Cb as A,Eb as O,Ha as q,Hb as F,Hc as oe,Jb as j,Pc as N,Qc as I,Rb as M,Sc as f,Tc as B,Va as k,Vc as C,Xa as J,Y as Q,Za as ee,aa as a,bb as ie,ca as W,cb as T,d as Y,fa as r,hb as ne,ja as y,ka as l,ma as Z,mb as D,ra as S,sa as R,tb as E,va as K,wc as L,yb as d,zb as c}from"./chunk-6SZU5MVO.js";var ke=()=>r(m).isLoggedIn?!0:r(_).navigate([r(p)]),Te=()=>r(m).isLoggedIn?r(_).navigate([r(x)]):!0;var De=(t,e)=>{let o=r(m),i=r(_),n=o.currentUser;switch(console.log(n.type),n.type){case V.MASTER:return $(e.url,"/master",i);case V.PLAYER:return $(e.url,"/player",i);default:return i.navigate(["/"]),!1}};var Ge=[{path:"auth",loadChildren:()=>import("./chunk-34LF7Y2O.js").then(t=>t.AuthFeatureModule),canActivate:[Te]},{path:"",loadChildren:()=>import("./chunk-A2ZHDUA4.js").then(t=>t.HomeModule),canActivate:[ke,De]}],Ee=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l({type:e}),e.\u0275inj=a({imports:[z.forRoot(Ge),z]});let t=e;return t})();function Ve(t,e){if(t&1){let o=O();d(0,"button",7),F("click",function(){S(o);let n=j();return R(n.handleLogout())}),d(1,"mat-icon"),M(2,"power_settings_new"),c()()}}var Pe=(()=>{let e=class e extends ye{constructor(){super(...arguments),this.title="adventure-maker",this.authService=r(m),this.loggedOutRoute=r(p)}handleLogout(){return Y(this,null,function*(){yield this.authService.logout(),this.router.navigate([this.loggedOutRoute])})}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=K(e)))(s||e)}})(),e.\u0275cmp=y({type:e,selectors:[["app-root"]],features:[ne],decls:18,vars:1,consts:[[1,"app-shell","mat-app-background"],["toolbar-logo",""],["toolbar-actions",""],["mat-icon-button",""],["loading",""],[1,"spinner"],["loaded",""],["mat-icon-button","",3,"click"]],template:function(n,s){n&1&&(d(0,"div",0)(1,"header")(2,"app-header")(3,"div",1)(4,"h2"),M(5,"\u{1F432} Rpg Adventure Maker"),c()(),d(6,"div",2),D(7,Ve,3,0,"button",3),c()()(),d(8,"main")(9,"app-loading"),P(10,4),d(11,"div",5),b(12,"mat-spinner"),c(),A(),P(13,6),b(14,"router-outlet"),A(),c()(),d(15,"footer")(16,"p"),M(17,"\xA9 RPG AdvetureMaker Application"),c()()()),n&2&&(k(7),E(s.authService.isLoggedIn?7:-1))},dependencies:[me,Ie,ge,xe,Me,Se],styles:[".app-shell[_ngcontent-%COMP%]{display:grid;grid-template-rows:minmax(100px,auto) 1fr minmax(50px,auto);min-height:100vh}.app-shell[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{padding:1rem}.app-shell[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{padding:1rem}.spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}"]});let t=e;return t})();var Ae=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l({type:e}),e.\u0275inj=a({providers:[{provide:he,useValue:"/api"},w(ae())]});let t=e;return t})();var $e="@",Ue=(()=>{let e=class e{constructor(i,n,s,h,v){this.doc=i,this.delegate=n,this.zone=s,this.animationType=h,this.moduleImpl=v,this._rendererFactoryPromise=null,this.scheduler=r(ee,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-J3Y3ARXQ.js").then(n=>n)).catch(n=>{throw new Q(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:s})=>{this._engine=n(this.animationType,this.doc);let h=new s(this.delegate,this._engine,this.zone);return this.delegate=h,h})}createRenderer(i,n){let s=this.delegate.createRenderer(i,n);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let h=new U(s);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(v=>{let Be=v.createRenderer(i,n);h.use(Be),this.scheduler?.notify(9)}).catch(v=>{h.use(s)}),h}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(n){J()},e.\u0275prov=X({token:e,factory:e.\u0275fac});let t=e;return t})(),U=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let o of this.replay)o(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,o){return this.delegate.createElement(e,o)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,o){this.delegate.appendChild(e,o)}insertBefore(e,o,i,n){this.delegate.insertBefore(e,o,i,n)}removeChild(e,o,i){this.delegate.removeChild(e,o,i)}selectRootElement(e,o){return this.delegate.selectRootElement(e,o)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,o,i,n){this.delegate.setAttribute(e,o,i,n)}removeAttribute(e,o,i){this.delegate.removeAttribute(e,o,i)}addClass(e,o){this.delegate.addClass(e,o)}removeClass(e,o){this.delegate.removeClass(e,o)}setStyle(e,o,i,n){this.delegate.setStyle(e,o,i,n)}removeStyle(e,o,i){this.delegate.removeStyle(e,o,i)}setProperty(e,o,i){this.shouldReplay(o)&&this.replay.push(n=>n.setProperty(e,o,i)),this.delegate.setProperty(e,o,i)}setValue(e,o){this.delegate.setValue(e,o)}listen(e,o,i){return this.shouldReplay(o)&&this.replay.push(n=>n.listen(e,o,i)),this.delegate.listen(e,o,i)}shouldReplay(e){return this.replay!==null&&e.startsWith($e)}};function Oe(t="animations"){return ie("NgAsyncAnimations"),Z([{provide:te,useFactory:(e,o,i)=>new Ue(e,o,i,t),deps:[L,le,T]},{provide:q,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Fe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l({type:e}),e.\u0275inj=a({imports:[H,g,H,g]});let t=e;return t})();var je={transformMenu:N("transformMenu",[B("void",f({opacity:0,transform:"scale(0.8)"})),C("void => enter",I("120ms cubic-bezier(0, 0, 0.2, 1)",f({opacity:1,transform:"scale(1)"}))),C("* => void",I("100ms 25ms linear",f({opacity:0})))]),fadeInItems:N("fadeInItems",[B("showing",f({opacity:1})),C("void => *",[f({opacity:0}),I("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Ei=je.fadeInItems,Pi=je.transformMenu;var st=new W("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let t=r(G);return()=>t.scrollStrategies.reposition()}});function at(t){return()=>t.scrollStrategies.reposition()}var lt={provide:st,deps:[G],useFactory:at};var Le=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l({type:e}),e.\u0275inj=a({providers:[lt],imports:[oe,pe,g,ve,_e,g]});let t=e;return t})();var ze=(t,e)=>{let o=r(m).token,i=t.headers.get("SkipAuth")?t:t.clone({headers:new re({Authorization:`Bearer ${o}`})});return e(i)};var He=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l({type:e}),e.\u0275inj=a({providers:[{provide:ue,useValue:"660"},{provide:x,useValue:"/"},{provide:p,useValue:"/auth"},w(se([ze]))]});let t=e;return t})();var Ne=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l({type:e,bootstrap:[Pe]}),e.\u0275inj=a({providers:[Oe()],imports:[ce,Ee,Ce,Re,He,Ae,Fe,be,Le,we,fe]});let t=e;return t})();de().bootstrapModule(Ne,{ngZoneEventCoalescing:!0}).catch(t=>console.error(t));
